# ูุธุงู ุญุฌุฒ ุงูุบุฑู ููุทูุงุจ - Student Room Booking System

## ุงูููุฎุต
ุชู ุชุทููุฑ ูุธุงู ูุชูุงูู ูุญุฌุฒ ุงูุบุฑู ููุทูุงุจ ูู ุตูุญุฉ `/student/room` ูุน ุงูููุฒุงุช ุงูุชุงููุฉ:

## โ ุงูููุฒุงุช ุงููููุฐุฉ

### 1. ุนุฑุถ ุงููุณุงูู ูุน ูุณุจุฉ ุงูุฅุดุบุงู
- **ุงูุตูุญุฉ**: `MyRoom.razor` (ุชู ุชุญุฏูุซูุง ุจุงููุงูู)
- **ุงูููุฒุงุช**:
  - ุนุฑุถ ุฌููุน ุงููุณุงูู ุงููุชุงุญุฉ ูู ุดุจูุฉ (Grid)
  - ุนุฑุถ ูุนูููุงุช ูู ุณูู:
    - ุงูุงุณู ูุงููุตู
    - ุนุฏุฏ ุงูุบุฑู ุงูุญุงููุฉ / ุงูุนุฏุฏ ุงูุฃูุตู (ูุซู: 5/10)
    - ุนุฏุฏ ุงูููุงุนุฏ ุงููุชุงุญุฉ / ุงูุฅุฌูุงูู
    - ูุณุจุฉ ุงูุฅุดุบุงู (Occupancy Percentage) ูุน ุดุฑูุท ุชูุฏู ูููู
    - ุญุงูุฉ ุงูุชููุฑ (ูุชุงุญ/ููุชูุฆ)
  - ุตูุฑุฉ ููุณูู (ุฅู ูุฌุฏุช) ุฃู ุฃููููุฉ ุงูุชุฑุงุถูุฉ

### 2. ูุฑุจุน ุญูุงุฑ ุงูุบุฑู ุงูุดุงุบุฑุฉ
- **ุงูููู**: `VacantRoomsDialog.razor` (ุฌุฏูุฏ)
- **ุงูููุฒุงุช**:
  - ูุนุฑุถ ููุท ุงูุบุฑู ุงูุดุงุบุฑุฉ ูู ุงูุณูู ุงููุญุฏุฏ
  - ูุนุฑุถ ููุท ุงูุบุฑู ุงูุชู ููุง ุณุนุฑ ูุญุฏุฏ ูู ูุจู ุงูุฃุฏูู
  - ูุนูููุงุช ูู ุบุฑูุฉ:
    - ุฑูู ุงูุบุฑูุฉ ูุงูุทุงุจู
    - ููุน ุงูุบุฑูุฉ (ูุฑุฏูุฉุ ูุฒุฏูุฌุฉุ ุซูุงุซูุฉุ ุฑุจุงุนูุฉ)
    - ุนุฏุฏ ุงูุฃุณุฑุฉ ุงููุชุงุญุฉ / ุงูุฅุฌูุงูู
    - **ุงูุณุนุฑ ุงูุดูุฑู** (ูุฌุจ ุฃู ูููู ูุญุฏุฏุงู ูู ูุจู ุงูุฃุฏูู)
    - ุญุงูุฉ ุงูุบุฑูุฉ
  - ุชูุจูู ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ุงูุณุนุฑ
  - ุฒุฑ "ุงุญุฌุฒ ุงูุขู" (ูุนุทู ุฅุฐุง ูู ููู ููุงู ุณุนุฑ)

### 3. ูุฑุจุน ุญูุงุฑ ุชุฃููุฏ ุงูุญุฌุฒ ูุงูุฏูุน
- **ุงูููู**: `BookingConfirmationDialog.razor` (ุฌุฏูุฏ)
- **ุงูููุฒุงุช**:
  - ุนุฑุถ ุชูุงุตูู ุงูุบุฑูุฉ ุงููุฎุชุงุฑุฉ
  - ุงุฎุชูุงุฑ ูุชุฑุฉ ุงูุญุฌุฒ (ุชุงุฑูุฎ ุงูุจุฏุงูุฉ ูุงูููุงูุฉ)
  - ุญุณุงุจ ุงููุฏุฉ ุจุงูุฃุดูุฑ ุชููุงุฆูุงู
  - ุญุณุงุจ ุฅุฌูุงูู ุงูุชูููุฉ (ุงูุณุนุฑ ุงูุดูุฑู ร ุนุฏุฏ ุงูุฃุดูุฑ)
  - **ูุธุงู ุฏูุน ูููู**:
    - ุฅุฏุฎุงู ุฑูู ุงูุจุทุงูุฉ (16 ุฑูู)
    - ุชุงุฑูุฎ ุงูุงูุชูุงุก (MM/YY)
    - CVV (3 ุฃุฑูุงู)
  - ูุนุงูุฌุฉ ุงูุญุฌุฒ ูุงูุฏูุน
  - ุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ูุน ุฑูู ุงูุญุฌุฒ ูุฑูู ุงูุฏูุน

### 4. ุชุญุฏูุฏ ุงูุณุนุฑ ูู ูุจู ุงูุฃุฏูู
- **ุงููููุงุช ุงููุญุฏุซุฉ**:
  - `CreateRoomCommandHandler.cs` - ุฅุถุงูุฉ `MonthlyRent` ุนูุฏ ุฅูุดุงุก ุงูุบุฑูุฉ
  - `UpdateRoomCommandHandler.cs` - ุชุญุฏูุซ `MonthlyRent` ุนูุฏ ุชุนุฏูู ุงูุบุฑูุฉ
  - `GetAllRoomsQueryHandler.cs` - ุฅุฑุฌุงุน `MonthlyRent` ูู ุงูู DTO

- **ููู ูุนูู**:
  - ุนูุฏ ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉุ ูุฌุจ ุนูู ุงูุฃุฏูู ุชุญุฏูุฏ `MonthlyRentAmount` ู `MonthlyRentCurrency`
  - ูุชู ุชุฎุฒูู ุงูุณุนุฑ ูู ูููุฐุฌ `Room` ูู `Money` Value Object
  - ุงูุบุฑู ุจุฏูู ุณุนุฑ **ูุง ุชุธูุฑ** ูู ูุงุฆูุฉ ุงูุบุฑู ุงููุชุงุญุฉ ููุญุฌุฒ
  - ูุชู ุญุณุงุจ ุงูุณุนุฑ ุงูููุงุฆู ุจูุงุกู ุนูู:
    1. ุฅุนุฏุงุฏุงุช ุงูุฑุณูู ููุทุงูุจ (ุญุณุจ ุงูุฌูุณูุฉ ูุงููุณุชูู ุงูุฏุฑุงุณู)
    2. ุณุนุฑ ุงูุบุฑูุฉ ุงูุฃุณุงุณู (ุฅุฐุง ูู ุชูุฌุฏ ุฅุนุฏุงุฏุงุช ุฎุงุตุฉ)

### 5. ูุธุงู ุงูุฏูุน ุงููููู
- **ุงูููู**: `DummyPaymentService.cs` (ููุฌูุฏ ูุณุจูุงู - ุชู ุงูุชุญูู ููู)
- **ุงูุชุญุฏูุซุงุช**: ุชูุช ูุฑุงุฌุนุฉ ุงูุชูุงูู ูุน ูุธุงู ุงูุญุฌุฒ
- **ููู ูุนูู**:
  1. ุนูุฏ ุชุฃููุฏ ุงูุญุฌุฒุ ูุชู ุฅูุดุงุก `PaymentRequestDto`
  2. ูุชู ูุนุงูุฌุฉ ุงูุฏูุน ุนุจุฑ `DummyPaymentService`
  3. ูุชู ุฅูุดุงุก ุณุฌู ุฏูุน ุจุญุงูุฉ "Paid"
  4. ูุชู ุฑุจุท ุงูุฏูุน ุจุงูุญุฌุฒ
  5. ูุชู ุฅุฑุฌุงุน `PaymentId` ู `ReservationId`

### 6. ุชุญุฏูุซ ูุณุจุฉ ุงูุฅุดุบุงู
- **ุงููููุงุช ุงููุญุฏุซุฉ**:
  - `CreateRoomCommandHandler.cs` - ุฒูุงุฏุฉ `CurrentRoomsCount` ุนูุฏ ุฅุถุงูุฉ ุบุฑูุฉ
  - `DeleteRoomCommandHandler.cs` - ุชูููู `CurrentRoomsCount` ุนูุฏ ุญุฐู ุบุฑูุฉ
  - `ReservationService.cs` - ุชูููู `AvailableCapacity` ุนูุฏ ุงูุญุฌุฒ
  - `ResidenceDto.cs` - ุฅุถุงูุฉ `MaxRoomsCount`

- **ููู ูุนูู**:
  - ุนูุฏ ุฅุถุงูุฉ ุบุฑูุฉ ุฌุฏูุฏุฉ:
    - `CurrentRoomsCount++`
    - `TotalCapacity += TotalBeds`
    - `AvailableCapacity += TotalBeds`
  
  - ุนูุฏ ุญุฐู ุบุฑูุฉ:
    - `CurrentRoomsCount--`
    - `TotalCapacity -= TotalBeds`
    - `AvailableCapacity -= TotalBeds`
  
  - ุนูุฏ ุงูุญุฌุฒ:
    - `room.OccupiedBeds++`
    - `residence.AvailableCapacity--`
  
  - ูุณุจุฉ ุงูุฅุดุบุงู: `(TotalCapacity - AvailableCapacity) / TotalCapacity * 100`

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ

1. **VacantRoomsDialog.razor** - ูุฑุจุน ุญูุงุฑ ุงูุบุฑู ุงูุดุงุบุฑุฉ
2. **BookingConfirmationDialog.razor** - ูุฑุจุน ุญูุงุฑ ุชุฃููุฏ ุงูุญุฌุฒ ูุงูุฏูุน

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

### Backend (C#)
1. `ResidenceDto.cs` - ุฅุถุงูุฉ `MaxRoomsCount`
2. `CreateRoomCommandHandler.cs` - ุฅุถุงูุฉ `MonthlyRent` ุนูุฏ ุงูุฅูุดุงุก
3. `UpdateRoomCommandHandler.cs` - ุชุญุฏูุซ `MonthlyRent` ุนูุฏ ุงูุชุนุฏูู
4. `GetAllRoomsQueryHandler.cs` - ุฅุฑุฌุงุน `MonthlyRent` ูู ุงูู DTO
5. `ReservationService.cs` - ุชุญุฏูุซ `AvailableCapacity` ุนูุฏ ุงูุญุฌุฒ
6. `MapsterConfiguration.cs` - ุฅุถุงูุฉ mappings ููู Residence ู Room

### Frontend (Razor)
1. `MyRoom.razor` - ุชุญุฏูุซ ูุงูู ููุตูุญุฉ

## ๐จ ุงูุชุตููู

- ุงุณุชุฎุฏุงู MudBlazor components
- ุชุตููู ุนุตุฑู ูุน:
  - Glass morphism cards
  - Gradient backgrounds
  - Progress bars ููููุฉ
  - Responsive layout
  - ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ

## ๐ ุงูุฃูุงู ูุงูุชุญูู

1. **ูุตุงุฏูุฉ**: ุฌููุน ุงูุตูุญุงุช ุชุชุทูุจ Role = "Student"
2. **ุงูุชุญูู ูู ุงูุณุนุฑ**: ูุง ูููู ุญุฌุฒ ุบุฑูุฉ ุจุฏูู ุณุนุฑ ูุญุฏุฏ
3. **ุงูุชุญูู ูู ุงูุชูุงุฑูุฎ**: ุชุงุฑูุฎ ุงูููุงูุฉ ูุฌุจ ุฃู ูููู ุจุนุฏ ุชุงุฑูุฎ ุงูุจุฏุงูุฉ
4. **ุงูุชุญูู ูู ุงูุฏูุน**: ูุชู ุงูุชุญูู ูู ูุฌุงุญ ุงูุฏูุน ูุจู ุฅูุดุงุก ุงูุญุฌุฒ
5. **ุงูุชุญูู ูู ุงูุชููุฑ**: ูุชู ุงูุชุญูู ูู ุชููุฑ ุงูุบุฑูุฉ ูุจู ุงูุญุฌุฒ

## ๐ ุชุชุจุน ุงูุฅุดุบุงู

### ุนูุฏ ุฅุถุงูุฉ ุบุฑูุฉ ุฌุฏูุฏุฉ:
```
ุงูุณูู A: 0/10 ุบุฑู โ ุฅุถุงูุฉ ุบุฑูุฉ โ 1/10 ุบุฑู
```

### ุนูุฏ ุงูุญุฌุฒ:
```
ูุจู: 50 ููุนุฏ ูุชุงุญ / 100 ููุนุฏ ุฅุฌูุงูู (50% ุฅุดุบุงู)
ุจุนุฏ: 49 ููุนุฏ ูุชุงุญ / 100 ููุนุฏ ุฅุฌูุงูู (51% ุฅุดุบุงู)
```

## ๐งช ุงูุงุฎุชุจุงุฑ

ููุงุฎุชุจุงุฑ:
1. ุงูุชูู ุฅูู `/student/room`
2. ุงุฎุชุฑ ุณููุงู ูุชุงุญุงู
3. ุงุถุบุท ุนูู "ุนุฑุถ ุงูุบุฑู ุงููุชุงุญุฉ"
4. ุงุฎุชุฑ ุบุฑูุฉ ููุง ุณุนุฑ ูุญุฏุฏ
5. ุญุฏุฏ ูุชุฑุฉ ุงูุญุฌุฒ
6. ุฃุฏุฎู ุจูุงูุงุช ุงูุฏูุน ุงูููููุฉ
7. ุฃูุฏ ุงูุญุฌุฒ

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุชุญุฏูุฏ ุงูุณุนุฑ ุฅูุฒุงูู**: ุงูุบุฑู ุจุฏูู ุณุนุฑ ูู ุชุธูุฑ ูู ูุงุฆูุฉ ุงูุญุฌุฒ
2. **ูุธุงู ุงูุฏูุน ูููู**: ููุงุฎุชุจุงุฑ ููุทุ ุฃู ุจูุงูุงุช ุจุทุงูุฉ ุณุชุนูู
3. **ุชุญุฏูุซ ุชููุงุฆู**: ูุณุจุฉ ุงูุฅุดุบุงู ุชุชุญุฏุซ ุชููุงุฆูุงู ุนูุฏ:
   - ุฅุถุงูุฉ/ุญุฐู ุบุฑู
   - ุฅูุดุงุก ุญุฌูุฒุงุช ุฌุฏูุฏุฉ
4. **ุงูุนููุฉ ุงูุงูุชุฑุงุถูุฉ**: LYD (ุงูุฏููุงุฑ ุงูููุจู) - ูููู ุชุบููุฑูุง ุญุณุจ ุงูุญุงุฌุฉ

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

1. ุฑุจุท ูุน ุจูุงุจุฉ ุฏูุน ุญููููุฉ
2. ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ููุทุงูุจ ุนูุฏ ูุฌุงุญ ุงูุญุฌุฒ
3. ุฅุถุงูุฉ ุฅููุงููุฉ ุฅูุบุงุก ุงูุญุฌุฒ
4. ุฅุถุงูุฉ ุชูุงุฑูุฑ ููุฅุฏุงุฑุฉ ุนู ุงูุญุฌูุฒุงุช
5. ุฅุถุงูุฉ ุชูููู ูุนุฑุถ ุงูุญุฌูุฒุงุช ุงููุงุฏูุฉ

## ๐ ุงูุฏุนู

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงูู:
1. ุชุฃูุฏ ูู ุฃู ุฌููุน ุงูุฎุฏูุงุช ูุณุฌูุฉ ูู `Program.cs`
2. ุชุฃูุฏ ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุฏุซุฉ
3. ุฑุงุฌุน ุณุฌูุงุช ุงูุฃุฎุทุงุก (Console/Logs)
