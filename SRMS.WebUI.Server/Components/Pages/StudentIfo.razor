@page "/StudentInfo"
@using SRMS.Application.Students.DTOs
@inject ISender Sender


<PageTitle>Student Title</PageTitle>

<h3>StudentIfo</h3>

<ul>
    @foreach (var student in _students)
    {
        <li>@student.Id</li>
        <li>@student.FirstName</li>
        <li>@student.LastName</li>
        <li>@student.Email</li>
        <li>@student.PhoneNumber</li>
        <li>@student.Address</li>
        <hr/>
    }
</ul>

@code {
    private List<StudentDto> _students = new List<StudentDto>();

    protected override async Task OnInitializedAsync()
    {
        // await Task.Delay(1000);
        var result = await Sender.Send(new GetStudentQuery());
        _students = result.ToList();
    }

}